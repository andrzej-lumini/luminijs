function GATracker(){}function Stats(){}function AbstractObject(){this.namespaceId=void 0}function StageSizeEvent(){}function StageSizeModel(){this.size=new Array(0,0),this.minimumSize=new Array(0,0),this.maximumSize=new Array(0,0)}function StageSizeController(){this.model=void 0}function AbstractView(){this.controller=void 0,this.tag=void 0,this.id=void 0,this.parent=void 0,this.childrenViews=new Array}function AbstractSelectionContentView(){AbstractView.call(this)}function Cookie(){}function UrlToolbox(){}function SocialSharer(){}function CodeEvent(){}function CodeModel(){this.code=new Array,this.buffer=new Array}function CodeController(){}function FlushingCodeController(){}function KeyboardCodeController(){}function SelectionEvent(){}function SelectionModel(){this.scope=[],this.offset=0,this.totalCount=0,this.over=void 0,this.current=void 0,this.state=void 0}function SelectionController(){this.model=void 0}function FacebookModel(){this.uid=void 0,this.accessToken=void 0,this.appId=void 0,this.likes=void 0}function FacebookController(){this.model=void 0}function FacebookEvent(){}function TwitterEvent(){}function TwitterModel(){this.connected=!1}function TwitterController(){this.model=void 0,this.popup=void 0,this.interval=void 0}function SWFAddressSelectionController(){this.started=!1,this.nextvalue=void 0}function SWFAddressSelectionEvent(){}function SWFAddressSelectionModel(){this.history=new Array}function AbstractMenuItemView(){}function AnimationHelper(){}function DrupalServices(){this.postponedRequests=new Array,this.headers={"Content-Type":"application/json"}}GATracker.prototype.ua=void 0,GATracker.prototype.tracker=void 0,GATracker.prototype.init=function(e){this.ua=e,"undefined"!=typeof _gat?this.tracker=_gat._createTracker(this.ua):_gaq.push(["_setAccount",this.ua])},GATracker.prototype.trackPageView=function(e){"undefined"!=typeof _gat?(this.tracker||(this.tracker=_gat._createTracker(this.ua)),this.tracker._trackPageview(e)):_gaq.push(["_trackPageview",e])},Stats.gaAccounts=void 0,Stats.prototype.gaTrackers=void 0,Stats.instance=void 0,Stats.getInstance=function(){return Stats.instance||(Stats.instance=new Stats,Stats.instance.init()),Stats.instance},Stats.prototype.init=function(){this.gaTrackers=new Array;for(var e=0;e<Stats.gaAccounts.length;e++){var t=new GATracker;t.init(Stats.gaAccounts[e]),this.gaTrackers.push(t)}},Stats.prototype.trackPage=function(e){for(var t=0;t<this.gaTrackers.length;t++)this.gaTrackers[t].trackPageView(e)},AbstractObject.prototype.destroy=function(){},AbstractObject.prototype.init=function(){window.namespaceId=window.namespaceId?window.namespaceId:1,this.namespaceId=window.namespaceId++},AbstractObject.prototype.one=function(e,t,o){jQuery(e).one(t+"."+this.namespaceId,jQuery.proxy(o,this))},AbstractObject.prototype.bind=function(e,t,o){jQuery(e).bind(t+"."+this.namespaceId,jQuery.proxy(o,this))},AbstractObject.prototype.unbind=function(e,t,o){jQuery(e).unbind(t+"."+this.namespaceId,jQuery.proxy(o,this))},Function.prototype._extends=function(e){this.prototype=new e,this.prototype.constructor=this,this._super=e.prototype},StageSizeEvent.STAGE_RESIZE="onStageResize",StageSizeModel.prototype.setSize=function(e){this.size=e,jQuery(this).trigger(StageSizeEvent.STAGE_RESIZE)},StageSizeController.instance=void 0,StageSizeController.getInstance=function(){if(void 0===StageSizeController.instance){var e=new StageSizeController;e.init(parent),StageSizeController.instance=e}return StageSizeController.instance},StageSizeController.prototype.createModel=function(){this.model=new StageSizeModel},StageSizeController.prototype.destroy=function(){jQuery(window).unbind("resize",jQuery.proxy(this.onStageResize,this))},StageSizeController.prototype.init=function(){this.createModel(),jQuery(window).resize(jQuery.proxy(this.onStageResize,this)),this.onStageResize(null)},StageSizeController.prototype.onStageResize=function(){this.model.setSize(new Array(jQuery(window).width(),jQuery(window).height()))},StageSizeController.prototype.setMinimumSize=function(){this.model.setMinimumSize(minimumSize),onStageResize(null)},StageSizeController.prototype.setMaximumSize=function(e){this.model.setMaximumSize(e),onStageResize(null)},AbstractView._extends(AbstractObject),AbstractView.prototype.destroy=function(){for(;0<this.childrenViews.length;)this.childrenViews[0].destroy();if(childrenViews=null,this.parent){var e=this.parent.childrenViews.indexOf(this);this.parent.childrenViews.splice(e,1)}AbstractView._super.destroy.call(this)},AbstractView.prototype.init=function(e,t){AbstractView._super.init.call(this),this.setParent(t),this.parent&&!this.controller&&(this.controller=this.parent.controller),this.tag=jQuery(e)},AbstractView.prototype.addChildView=function(e){-1!==this.childrenViews.indexOf(e)&&this.childrenViews.push(e)},AbstractView.prototype.setParent=function(e){this.parent=e,this.parent&&this.parent.addChildView(this)},AbstractSelectionContentView._extends(AbstractView),AbstractSelectionContentView.prototype.destroy=function(){this.unbind(this.controller.model,SelectionEvent.ON_CURRENT_UPDATED,this.onCurrentUpdated),AbstractSelectionContentView._super.destroy.call(this)},AbstractSelectionContentView.prototype.init=function(e,t){if(AbstractSelectionContentView._super.init.call(this,e,t),void 0===this.id||void 0===this.controller)throw new Error("Id or controller undefined.");this.bind(this.controller.model,SelectionEvent.ON_CURRENT_UPDATED,this.onCurrentUpdated),this.onCurrentUpdated(null)},AbstractSelectionContentView.prototype.onCurrentUpdated=function(){this.controller.model.current===this.id?this.show():this.hide()},AbstractSelectionContentView.prototype.show=function(){this.tag.show()},AbstractSelectionContentView.prototype.hide=function(){this.tag.hide()},Cookie.set=function(e,t,o){var n=new Date;n.setDate(n.getDate()+o),t=escape(t)+(0==o?"":"; expires="+n.toUTCString()),document.cookie=e+"="+t},Cookie.get=function(e){var t,o,n,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(o=i[t].substr(0,i[t].indexOf("=")),n=i[t].substr(i[t].indexOf("=")+1),o=o.replace(/^\s+|\s+$/g,""),o==e)return unescape(n)},UrlToolbox.getUrlParam=function(e,t){"undefined"==typeof t&&(t=!1);var o=window.location.search.replace("?",""),n=o.split("&");if(t){var i=window.location.hash.split("?").pop();n=n.concat(i.split("&"))}for(var r=0;r<n.length;r++){var s=n[r].split("=");if(s[0]==e)return s[1]}return null},UrlToolbox.getUrlHashtag=function(){var e=window.location.href,t=e.split("#");return 2==t.length?t[1]:""},UrlToolbox.getBasePath=function(){var e=window.location.href,t=e.split("/"),o=t[0]+"//"+t[2];return o},UrlToolbox.getPath=function(){var e=window.location.href;e=e.split("?").shift(),e=e.split("#").shift();var t=e.split("/");t.splice(0,3);var o=t.join("/");return o},UrlToolbox.getPathElement=function(e){var t=window.location.href;t=t.split("?").shift(),t=t.split("#").shift();var o=t.split("/");o.splice(0,3);var n=o.length>e?o[e]:"";return n},SocialSharer.shareFacebook=function(e){e=SocialSharer.cleanParam(e);var e="https://www.facebook.com/sharer/sharer.php?u="+e;SocialSharer.popup(e,600,368,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.sharePinterest=function(e,t,o){e=encodeURIComponent(e),t=encodeURIComponent(t);var n=SocialSharer.cleanParam(o),i="url="+e+"&media="+t+"&description="+n,e="//pinterest.com/pin/create/button?"+i;SocialSharer.popup(e,600,350,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.shareTwitter=function(e,t,o,n){e=encodeURIComponent(e),t=SocialSharer.cleanParam(t),o=SocialSharer.cleanParam(o);var i="hashtags="+o+"&url="+e+"&text="+t;n&&(n=SocialSharer.cleanParam(n),i+="&via="+n);var e="http://twitter.com/intent/tweet?"+i;SocialSharer.popup(e,600,350,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.twitterIntentUser=function(e){var t="https://twitter.com/intent/user?screen_name="+e;SocialSharer.popup(t,600,500,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.shareTumblrLink=function(e,t,o){var n="http://www.tumblr.com/share/link?url="+encodeURIComponent(e);t&&(n+="&name="+encodeURIComponent(t)),o&&(n+="&description"+encodeURIComponent(o)),SocialSharer.popup(n,600,500,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.shareLinkedIn=function(e,t,o,n){var e="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e);e+="&title="+encodeURIComponent(t),e+="&summary="+encodeURIComponent(n),e+="&source="+encodeURIComponent(o),SocialSharer.popup(e,600,500,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.shareGoogle=function(e,t){var e="https://plus.google.com/share?url="+encodeURIComponent(e);t&&(e+="&h1="+encodeURIComponent(t)),SocialSharer.popup(e,600,500,"menubar=no,scrollbars=no,statusbar=no")},SocialSharer.popup=function(e,t,o,n){var i=(window.innerHeight-o)/2,r=(window.innerWidth-t)/2;window.open(e,"","top="+i+",left="+r+",width="+t+",height="+o+","+n)},SocialSharer.cleanParam=function(e){return e?e=e.replace("#","%23"):""},CodeEvent.DIGIT_PUSHED="digitPushed",CodeEvent.CODE_COMPLETE="codeComplete",CodeEvent.CODE_COMPLETE_WRONG="codeCompleteWrong",CodeModel.prototype.code="",CodeModel.prototype.buffer="",CodeModel.prototype.setCode=function(e){this.code=e},CodeModel.prototype.push=function(e){this.buffer.push(e),jQuery(this).trigger(CodeEvent.DIGIT_PUSHED)},CodeModel.prototype.initializeBuffer=function(){this.buffer=new Array},CodeModel.prototype.dispatchComplete=function(){jQuery(this).trigger(CodeEvent.CODE_COMPLETE)},CodeModel.prototype.dispatchCompleteWrong=function(){jQuery(this).trigger(CodeEvent.CODE_COMPLETE_WRONG)},CodeController._extends(AbstractObject),CodeController.prototype.init=function(){this.createModel()},CodeController.prototype.createModel=function(){this.model=new CodeModel},CodeController.prototype.setCode=function(e){this.model.setCode(e)},CodeController.prototype.push=function(e){this.model.push(e),this.model.buffer.length==this.model.code.length&&(this.model.buffer.equals(this.model.code)?(this.model.dispatchComplete(),this.flush()):(this.model.dispatchCompleteWrong(),this.flush()))},CodeController.prototype.flush=function(){this.model.initializeBuffer()},FlushingCodeController._extends(CodeController),FlushingCodeController.prototype.push=function(e){this.canPush(e)?this.model.push(e):(this.flush(),this.canPush(e)&&this.model.push(e)),this.model.buffer.length==this.model.code.length&&(this.model.dispatchComplete(),this.flush())},FlushingCodeController.prototype.canPush=function(e){return this.model.code[this.model.buffer.length]==e},KeyboardCodeController._extends(FlushingCodeController),KeyboardCodeController.prototype.init=function(){KeyboardCodeController._super.init.call(this),this.bind(document,"keydown",this.onKeyDown)},KeyboardCodeController.prototype.onKeyDown=function(e){this.push(String.fromCharCode(e.keyCode))},SelectionEvent.ON_CURRENT_UPDATED="onCurrentUpdated",SelectionEvent.ON_OVER_UPDATED="onOverUpdated",SelectionEvent.ON_SCOPE_UPDATED="onScopeUpdated",SelectionEvent.ON_TOTAL_COUNT_UPDATED="onTotalCountUpdated",SelectionEvent.ON_OFFSET_UPDATED="onOffsetUpdated",SelectionEvent.ON_STATE_UPDATED="onStateUpdated",SelectionModel.prototype.destroy=function(){jQuery(this).unbind(SelectionEvent.ON_CURRENT_UPDATED),jQuery(this).unbind(SelectionEvent.ON_OVER_UPDATED),jQuery(this).unbind(SelectionEvent.ON_SCOPE_UPDATED),jQuery(this).unbind(SelectionEvent.ON_TOTAL_COUNT_UPDATED),jQuery(this).unbind(SelectionEvent.ON_OFFSET_UPDATED)},SelectionModel.prototype.setCurrent=function(e){this.current=e,jQuery(this).trigger(SelectionEvent.ON_CURRENT_UPDATED,this.current)},SelectionModel.prototype.setOver=function(e){this.over=e,jQuery(this).trigger(SelectionEvent.ON_OVER_UPDATED,this.over)},SelectionModel.prototype.setScope=function(e){this.scope=e,jQuery(this).trigger(SelectionEvent.ON_SCOPE_UPDATED)},SelectionModel.prototype.setOffset=function(e){this.offset=e,jQuery(this).trigger(SelectionEvent.ON_OFFSET_UPDATED,this.offset)},SelectionModel.prototype.setTotalCount=function(e){this.totalCount=e,jQuery(this).trigger(SelectionEvent.ON_TOTAL_COUNT_UPDATED,this.totalCount)},SelectionModel.prototype.setState=function(e){this.state=e,jQuery(this).trigger(SelectionEvent.ON_STATE_UPDATED,this.state)},SelectionController._extends(AbstractObject),SelectionController.prototype.destroy=function(){void 0!==this.model&&(this.model.destroy(),this.model=null)},SelectionController.prototype.init=function(){this.createModel()},SelectionController.prototype.createModel=function(){this.model=new SelectionModel},SelectionController.prototype.goNext=function(){var e=jQuery.inArray(this.model.current,this.model.scope);this.model.setCurrent(this.model.scope[(e+1)%this.model.scope.length])},SelectionController.prototype.setState=function(e){void 0!==this.model&&this.model.state!==e&&this.model.setState(e)},SelectionController.prototype.setCurrent=function(e){void 0!==this.model&&this.model.current!==e&&this.model.setCurrent(e)},SelectionController.prototype.setOver=function(e){void 0!==this.model&&this.model.over!==e&&this.model.setOver(e)},SelectionController.prototype.setScope=function(e){this.model.setScope(e)},SelectionController.prototype.goPrevious=function(){var e=this.model.scope,t=jQuery.inArray(this.model.current,e);this.setCurrent(e[(t-1+e.length)%e.length])},SelectionController.prototype.goNext=function(){var e=this.model.scope,t=jQuery.inArray(this.model.current,e);this.setCurrent(e[(t+1)%e.length])},FacebookModel.prototype.setSession=function(e,t){this.uid=e,this.accessToken=t,jQuery(this).trigger(FacebookEvent.ON_SESSION)},FacebookModel.prototype.setLikes=function(e){this.likes=e,jQuery(this).trigger(FacebookEvent.LIKES_UPDATED)},FacebookController.instance=void 0,FacebookController.getInstance=function(){if(void 0===FacebookController.instance){var e=new FacebookController;e.init(),FacebookController.instance=e}return FacebookController.instance},FacebookController.prototype.init=function(){this.model=new FacebookModel},FacebookController.prototype.initFacebook=function(e){this.model.appId=e,FB.init({appId:this.model.appId,status:!1,cookie:!0,xfbml:!0}),FB.getLoginStatus(jQuery.proxy(this.onAuthStatusChange,this))},FacebookController.prototype.login=function(e){var t={};e&&(t.scope=e),FB.login(jQuery.proxy(this.onLogin,this),t)},FacebookController.prototype.addImageInAlbum=function(e,t,o,n){var i=this;FB.api("/me/albums","get",{fields:"name",limit:1e14},function(r){for(var s=void 0,l=0;l<r.data.length&&(s=r.data[l],s.name!=e);l++)s=void 0;s?i.addImageInExistingAlbum(s.id,o,n):FB.api("/me/albums","post",{name:e,message:t},function(e){i.addImageInExistingAlbum(e.id,o,n)})})},FacebookController.prototype.addImageInExistingAlbum=function(e,t,o){var n=this;FB.api("/"+e+"/photos","post",{message:o,url:t},function(){jQuery(n.model).trigger(FacebookEvent.PHOTO_ADDED)})},FacebookController.prototype.api=function(e,t,o){var n=this;FB.api(e,t,o,function(e){jQuery(n.model).trigger(FacebookEvent.API_CALL_SUCCESS,[e])})},FacebookController.prototype.getLikes=function(e,t){null==t&&(t=this.model.uid);var o=null==e?{}:{fields:"likes.fields("+e+")"},n=this;FB.api("/"+t,"get",o,function(e){n.model.setLikes(e.likes.data)})},FacebookController.prototype.onAuthStatusChange=function(e){switch(e.status){case"connected":Cookie.set("access_token",e.authResponse.accessToken,1),this.model.setSession(e.authResponse.userID,e.authResponse.accessToken);break;case"not_authorized":this.model.setSession(null,null);default:this.model.setSession(null,null)}},FacebookController.prototype.onLogin=function(e){e.authResponse?this.model.setSession(e.authResponse.userID,e.authResponse.accessToken):this.model.setSession(null,null)},FacebookEvent.ON_SESSION="onSession",FacebookEvent.PHOTO_ADDED="photoAdded",FacebookEvent.API_CALL_SUCCESS="apiCallSuccess",FacebookEvent.LIKES_UPDATED="likesUpdated",TwitterEvent.ON_CONNECTED_CHANGE="onConnectedChange",TwitterEvent.ON_TWEET_SUCCESS="onTweetSuccess",TwitterModel.prototype.setConnected=function(e){this.connected=e,jQuery(this).trigger(TwitterEvent.ON_CONNECTED_CHANGE)},TwitterModel.prototype.notify=function(e){jQuery(this).trigger(e)},TwitterController.instance=void 0,TwitterController.getInstance=function(){if(void 0===TwitterController.instance){var e=new TwitterController;e.init(),TwitterController.instance=e}return TwitterController.instance},TwitterController.prototype.init=function(){this.model=new TwitterModel},TwitterController.prototype.login=function(){var e=400,t=600,o=window.screenTop+(window.innerHeight-e)/2,n=window.screenLeft+(window.innerWidth-t)/2;window.name&&(this.originalWindowName=window.name),window.name="parent",this.popup=-1!=window.navigator.userAgent.indexOf("iPhone")||-1!=window.navigator.userAgent.indexOf("iPad")||-1!=window.navigator.userAgent.indexOf("Android")?window.open(window.location.protocol+"//"+window.location.host+Drupal.settings.basePath+"twitter-light-user/login","",""):window.open(window.location.protocol+"//"+window.location.host+Drupal.settings.basePath+"twitter-light-user/login","","top="+o+",left="+n+",width="+t+",height="+e+",menubar=no,scrollbars=no,statusbar=no"),this.interval=setInterval(jQuery.proxy(this.onInterval,this),500)},TwitterController.prototype.tweet=function(e){if(null==this.status)if(this.status=e,this.model.connected){var t=new Object;t.status=e;var o=new Object;o.url=Drupal.settings.basePath+"rest-endpoint/twitter_light/tweet",o.type="POST",o.data=JSON.stringify(t),o.beforeSend=function(e){e.setRequestHeader("Content-Type","application/json")},o.success=jQuery.proxy(this.onTweetSuccess,this),jQuery.ajax(o)}else this.login()},TwitterController.prototype.onTweetSuccess=function(e){null==e.id?(this.model.setConnected(!1),this.status=null):(this.status=null,this.model.notify(TwitterEvent.ON_TWEET_SUCCESS))},TwitterController.prototype.onInterval=function(){if(this.popup.top){var e="";try{var e=this.popup.location.href}catch(t){}if(e&&-1!=e.indexOf("twitter-light-user/login/success")){if(clearInterval(this.interval),this.model.setConnected(!0),this.popup.close(),null!=this.status){var o=this.status;this.status=null,this.tweet(o)}null!=this.originalWindowName&&(window.name=this.originalWindowName,this.originalWindowName=null)}else e&&-1!=e.indexOf("twitter-light-user/login/failure")&&(clearInterval(this.interval),this.model.setConnected(!1),this.popup.close(),this.status=null,null!=this.originalWindowName&&(window.name=this.originalWindowName,this.originalWindowName=null))}else clearInterval(this.interval)},SWFAddressSelectionController.prototype=new SelectionController,SWFAddressSelectionController.prototype.init=function(){SelectionController.prototype.init.call(this),"undefined"!=typeof SWFAddress?jQuery(SWFAddress).bind(SWFAddressEvent.INIT,jQuery.proxy(this.onSWFAddressInit,this)):this.started=!0},SWFAddressSelectionController.prototype.createModel=function(){this.model=new SWFAddressSelectionModel},SWFAddressSelectionController.prototype.setCurrent=function(e){this.started?"undefined"!=typeof SWFAddress?SWFAddress.setValue(e):this.loadPath(e):this.nextvalue=e},SWFAddressSelectionController.prototype.onSWFAddressInit=function(){this.started=!0,jQuery(SWFAddress).bind(SWFAddressEvent.CHANGE,jQuery.proxy(this.onSWFAddressChange,this)),void 0!=this.nextvalue&&(this.setCurrent(this.nextvalue),this.nextvalue="")},SWFAddressSelectionController.prototype.onSWFAddressChange=function(){return this.model.history.push(SWFAddress.getValue()),this.setState(SWFAddressSelectionEvent.LOADING),this.loadPath(SWFAddress.getValue().substr(1)),!1},SWFAddressSelectionController.prototype.loadPath=function(e){var t={};t.type="GET",t.url=UrlToolbox.getBasePath()+"/"+e,t.success=jQuery.proxy(this.onRequestSuccess,this),t.error=jQuery.proxy(this.onRequestError,this),jQuery.ajax(t)},SWFAddressSelectionController.prototype.onRequestSuccess=function(e){this.setState(SWFAddressSelectionEvent.LOADED),this.model.setCurrent(e)},SWFAddressSelectionController.prototype.onRequestError=function(){},SWFAddressSelectionEvent.LOADING="loading",SWFAddressSelectionEvent.LOADED="loaded",SWFAddressSelectionModel.prototype=new SelectionModel,AbstractMenuItemView._extends(AbstractView),AbstractMenuItemView.prototype.destroy=function(){void 0!=this.controller&&(this.unbind(this.controller.model,SelectionEvent.ON_CURRENT_UPDATED+"."+this.namespaceId,this.onCurrentUpdated),this.unbind(this.controller.model,SelectionEvent.ON_OVER_UPDATED+"."+this.namespaceId,this.onOverUpdated)),AbstractMenuItemView._super.destroy.call(this)},AbstractMenuItemView.prototype.init=function(e,t){AbstractMenuItemView._super.init.call(this,e,t),this.bind(this.controller.model,SelectionEvent.ON_CURRENT_UPDATED+"."+this.namespaceId,this.onCurrentUpdated),this.bind(this.controller.model,SelectionEvent.ON_OVER_UPDATED+"."+this.namespaceId,this.onOverUpdated)},AbstractMenuItemView.prototype.hilite=function(){},AbstractMenuItemView.prototype.unhilite=function(){},AbstractMenuItemView.prototype.onMouseOver=function(){null!=this.controller&&this.controller.setOver(this.id)},AbstractMenuItemView.prototype.onMouseOut=function(){null!=this.controller&&this.controller.setOver(null)},AbstractMenuItemView.prototype.onClick=function(){null!=this.controller&&this.controller.setCurrent(this.id)},AbstractMenuItemView.prototype.onOverUpdated=function(){this.controller.model.over===this.id?this.hilite():this.current!==this.id&&this.unhilite()},AbstractMenuItemView.prototype.onCurrentUpdated=function(){this.controller.model.current===this.id?this.hilite():this.unhilite()},AnimationHelper.ENTER_FRAME="enterFrame",AnimationHelper.instance=void 0,AnimationHelper.getInstance=function(){return AnimationHelper.instance||(AnimationHelper.instance=new AnimationHelper,AnimationHelper.instance.init()),AnimationHelper.instance},AnimationHelper.prototype.init=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};window.requestAnimationFrame=e,window.requestAnimationFrame(jQuery.proxy(this.onEnterFrame,this))},AnimationHelper.prototype.onEnterFrame=function(){window.requestAnimationFrame(jQuery.proxy(this.onEnterFrame,this)),jQuery(this).trigger(AnimationHelper.ENTER_FRAME)},DrupalServices._extends(AbstractObject),DrupalServices.token=void 0,DrupalServices.prototype.callAction=function(e,t,o,n){var i=new Object;i.url=Drupal.settings.basePath+"rest-endpoint/"+e,i.type="POST",i.data=JSON.stringify(n),i.beforeSend=jQuery.proxy(this.beforeSend,this),i.success=t,i.error=o,DrupalServices.token?jQuery.ajax(i):(this.postponedRequests.push(i),this.requestToken())},DrupalServices.prototype.beforeSend=function(e){DrupalServices.token&&(this.headers["X-CSRF-Token"]=DrupalServices.token);for(var t in this.headers)e.setRequestHeader(t,this.headers[t])},DrupalServices.prototype.requestToken=function(){var e=new Object;e.url=Drupal.settings.basePath+"services/session/token",e.type="GET",e.beforeSend=jQuery.proxy(this.beforeSend,this),e.success=jQuery.proxy(this.onServiceTokenLoad,this),jQuery.ajax(e)},DrupalServices.prototype.onServiceTokenLoad=function(e){for(DrupalServices.token=e;this.postponedRequests.length>0;){var t=this.postponedRequests.pop();t.beforeSend=jQuery.proxy(this.beforeSend,this),jQuery.ajax(t)}};